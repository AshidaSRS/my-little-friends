# auto completion for the p4 (Perforce) command.
# by torstein.k.johansen@gmail.com

_p4_commands()
{
    local cur=${COMP_WORDS[COMP_CWORD]}
    local prev=${COMP_WORDS[COMP_CWORD-1]}

    commands="add admin annotate branch branches change changes changelist changelists client clients counter counters delete depot depots describe diff diff2 dirs edit filelog files fix fixes flush fstat group groups have help info integrate integrated job jobs jobspec label labels labelsync lock logger login logout monitor obliterate opened passwd print protect rename reopen resolve resolved revert review reviews set submit sync tag tickets triggers typemap unlock user users verify workspace workspaces where ..."

    # default completions is the list of commands
    completions=$commands

    COMPREPLY=( $(compgen -W "$completions" -- $cur) )
}

complete -o default  -F _p4_commands p4

